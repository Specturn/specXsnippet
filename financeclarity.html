<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Specturn Financial Clarity Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --navy-deep: #0D1B2A;
            --navy-secondary: #1B263B;
            --teal-electric: #00F5D4;
            --white-clean: #FFFFFF;
            --magenta-sharp: #FF2E63;
            --glass-bg: rgba(27, 38, 59, 0.8);
            --glass-border: rgba(0, 245, 212, 0.2);
        }

        * {
            box-sizing: border-box;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--navy-deep);
            color: var(--white-clean);
            overflow-x: hidden;
        }

        /* Glassmorphism Effects */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .glass-panel {
            background: rgba(27, 38, 59, 0.6);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(0, 245, 212, 0.15);
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #0D1B2A 0%, #1B263B 50%, #0D1B2A 100%);
        }

        .animated-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 245, 212, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 46, 99, 0.1) 0%, transparent 50%);
            animation: backgroundPulse 8s ease-in-out infinite;
        }

        @keyframes backgroundPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        /* Typography Scale */
        .text-financial-hero { 
            font-size: 3.5rem; 
            font-weight: 800; 
            line-height: 1.1;
            letter-spacing: -0.02em;
        }
        
        .text-financial-large { 
            font-size: 2.5rem; 
            font-weight: 700; 
            line-height: 1.2;
        }
        
        .text-financial-medium { 
            font-size: 1.25rem; 
            font-weight: 600; 
        }

        /* Animated Counters */
        .counter {
            display: inline-block;
            transition: all 0.3s ease;
        }

        .counter.counting {
            color: var(--teal-electric);
            text-shadow: 0 0 20px rgba(0, 245, 212, 0.5);
        }

        /* Premium Buttons */
        .btn-premium {
            position: relative;
            background: linear-gradient(135deg, var(--teal-electric) 0%, #00D4AA 100%);
            border: none;
            color: var(--navy-deep);
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .btn-premium::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .btn-premium:hover::before {
            left: 100%;
        }

        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0, 245, 212, 0.3);
        }

        .btn-premium:active {
            transform: translateY(0) scale(0.95);
        }

        .btn-expense {
            background: linear-gradient(135deg, var(--magenta-sharp) 0%, #FF4081 100%);
            color: white;
        }

        /* Advanced Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 245, 212, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 245, 212, 0.6); }
        }

        .animate-slide-up { animation: slideInUp 0.6s ease-out forwards; }
        .animate-slide-left { animation: slideInLeft 0.6s ease-out forwards; }
        .animate-scale-in { animation: scaleIn 0.4s ease-out forwards; }
        .animate-glow { animation: glow 2s ease-in-out infinite; }

        /* Card Hover Effects */
        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(0, 245, 212, 0.2);
        }

        /* Modal Animations */
        .modal-backdrop {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .modal-content {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            max-height: 90vh;
            overflow-y: auto;
        }

        /* Prevent background scroll when modal is open */
        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
        }

        /* Loading Animations */
        .loading-shimmer {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.1) 25%, 
                rgba(0, 245, 212, 0.2) 50%, 
                rgba(255, 255, 255, 0.1) 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Performance Mode */
        .performance-mode .glass-card,
        .performance-mode .glass-panel {
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            background: var(--navy-secondary);
        }

        .performance-mode .animated-bg::before {
            display: none;
        }

        /* Custom Icons */
        .icon-category {
            width: 24px;
            height: 24px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Chart Containers */
        .chart-container {
            position: relative;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .chart-container.loaded {
            opacity: 1;
            transform: translateY(0);
        }

        /* Navigation */
        .nav-item {
            position: relative;
            transition: all 0.3s ease;
        }

        .nav-item::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--teal-electric);
            transition: width 0.3s ease;
        }

        .nav-item.active::after,
        .nav-item:hover::after {
            width: 100%;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .text-financial-hero { font-size: 2.5rem; }
            .text-financial-large { font-size: 2rem; }
        }

        /* Success/Error States */
        .success-glow {
            box-shadow: 0 0 30px rgba(0, 245, 212, 0.5);
            animation: successPulse 0.6s ease-out;
        }

        .error-glow {
            box-shadow: 0 0 30px rgba(255, 46, 99, 0.5);
            animation: errorPulse 0.6s ease-out;
        }

        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes errorPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Floating Elements */
        .float-element {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* Page Transitions */
        .page-transition {
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .page-transition.active {
            opacity: 1;
            transform: translateX(0);
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--navy-deep);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--teal-electric);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #00D4AA;
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 flex items-center justify-center z-50" style="background: linear-gradient(135deg, var(--navy-deep) 0%, var(--navy-secondary) 100%);">
        <div class="text-center">
            <div class="w-32 h-32 glass-card rounded-3xl flex items-center justify-center mx-auto mb-8 animate-glow">
                <span style="color: var(--teal-electric);" class="text-6xl font-black">S</span>
            </div>
            <h1 class="text-financial-hero mb-4" style="color: var(--white-clean);">Specturn</h1>
            <p class="text-financial-medium mb-12" style="color: var(--teal-electric);">Financial Clarity Tracker</p>
            <div class="flex items-center justify-center space-x-3">
                <div class="w-4 h-4 rounded-full animate-pulse" style="background: var(--teal-electric);"></div>
                <div class="w-4 h-4 rounded-full animate-pulse" style="background: var(--teal-electric); animation-delay: 0.2s;"></div>
                <div class="w-4 h-4 rounded-full animate-pulse" style="background: var(--teal-electric); animation-delay: 0.4s;"></div>
            </div>
            <p class="text-sm opacity-75 mt-8" style="color: var(--white-clean);">Initializing premium experience...</p>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden min-h-screen">
        <!-- Header -->
        <header class="glass-panel sticky top-0 z-40 border-b" style="border-color: var(--glass-border);">
            <div class="max-w-7xl mx-auto px-6 lg:px-8">
                <div class="flex justify-between items-center h-20">
                    <div class="flex items-center">
                        <div>
                            <h1 class="text-2xl font-bold" style="color: var(--white-clean);">Specturn</h1>
                            <p class="text-sm opacity-75" style="color: var(--teal-electric);">Financial Clarity</p>
                        </div>
                    </div>
                    
                    <nav class="hidden md:flex space-x-12">
                        <button id="dashboardTab" class="nav-item text-financial-medium py-6 active" style="color: var(--teal-electric);">
                            Dashboard
                        </button>
                        <button id="reportsTab" class="nav-item text-financial-medium py-6" style="color: var(--white-clean);">
                            Reports
                        </button>
                        <button id="privacyTab" class="nav-item text-financial-medium py-6" style="color: var(--white-clean);">
                            Privacy
                        </button>
                    </nav>

                    <div class="flex items-center space-x-6">
                        <div class="hidden md:flex items-center space-x-3 glass-panel px-4 py-2 rounded-full">
                            <div class="w-3 h-3 rounded-full animate-pulse" style="background: var(--teal-electric);"></div>
                            <span class="text-sm font-medium" style="color: var(--white-clean);">Local Storage</span>
                        </div>
                        <button id="performanceToggle" class="glass-panel p-3 rounded-xl hover:scale-105 transition-transform">
                            <span class="text-lg">‚ö°</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-6 lg:px-8 py-12 pb-32">
            <!-- Dashboard View -->
            <div id="dashboardView" class="page-transition active space-y-12">
                <!-- Hero Section -->
                <div class="text-center animate-slide-up">
                    <h2 class="text-financial-hero mb-6" style="color: var(--white-clean);">Financial Command Center</h2>
                    <p class="text-xl opacity-90 mb-8" style="color: var(--white-clean);">Real-time insights into your financial universe</p>
                    <div class="flex items-center justify-center space-x-3">
                        <div class="w-3 h-3 rounded-full animate-pulse" style="background: var(--teal-electric);"></div>
                        <span class="text-sm font-medium" style="color: var(--teal-electric);">Live Analytics</span>
                    </div>
                </div>

                <!-- Metrics Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Total Income -->
                    <div class="glass-card rounded-3xl p-8 card-hover animate-slide-up" style="animation-delay: 0.1s;">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex-1">
                                <p class="text-sm font-bold uppercase tracking-wider opacity-75 mb-3" style="color: var(--white-clean);">Total Income</p>
                                <div id="totalIncomeLoader" class="loading-shimmer h-12 w-40 rounded-lg mb-4"></div>
                                <p id="totalIncome" class="text-financial-large counter opacity-0" style="color: var(--white-clean);">$0</p>
                                <div class="flex items-center mt-3">
                                    <span class="text-xs font-bold px-3 py-1 rounded-full" style="background: rgba(0, 245, 212, 0.2); color: var(--teal-electric);">‚Üó Growth</span>
                                </div>
                            </div>
                            <div class="w-20 h-20 glass-panel rounded-2xl flex items-center justify-center float-element">
                                <span class="text-3xl">üìà</span>
                            </div>
                        </div>
                    </div>

                    <!-- Total Expenses -->
                    <div class="glass-card rounded-3xl p-8 card-hover animate-slide-up" style="animation-delay: 0.2s;">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex-1">
                                <p class="text-sm font-bold uppercase tracking-wider opacity-75 mb-3" style="color: var(--white-clean);">Total Expenses</p>
                                <div id="totalExpensesLoader" class="loading-shimmer h-12 w-40 rounded-lg mb-4"></div>
                                <p id="totalExpenses" class="text-financial-large counter opacity-0" style="color: var(--magenta-sharp);">$0</p>
                                <div class="flex items-center mt-3">
                                    <span class="text-xs font-bold px-3 py-1 rounded-full" style="background: rgba(255, 46, 99, 0.2); color: var(--magenta-sharp);">‚Üò Spending</span>
                                </div>
                            </div>
                            <div class="w-20 h-20 glass-panel rounded-2xl flex items-center justify-center float-element" style="animation-delay: 0.5s;">
                                <span class="text-3xl">üìâ</span>
                            </div>
                        </div>
                    </div>

                    <!-- Net Profit -->
                    <div class="glass-card rounded-3xl p-8 card-hover animate-slide-up" style="animation-delay: 0.3s;">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex-1">
                                <p class="text-sm font-bold uppercase tracking-wider opacity-75 mb-3" style="color: var(--white-clean);">Net Profit</p>
                                <div id="netProfitLoader" class="loading-shimmer h-12 w-40 rounded-lg mb-4"></div>
                                <p id="netProfit" class="text-financial-large counter opacity-0" style="color: var(--white-clean);">$0</p>
                                <div class="flex items-center mt-3">
                                    <span id="profitIndicator" class="text-xs font-bold px-3 py-1 rounded-full">Balance</span>
                                </div>
                            </div>
                            <div class="w-20 h-20 glass-panel rounded-2xl flex items-center justify-center float-element" style="animation-delay: 1s;">
                                <span class="text-3xl">üí∞</span>
                            </div>
                        </div>
                    </div>

                    <!-- Burn Rate -->
                    <div class="glass-card rounded-3xl p-8 card-hover animate-slide-up" style="animation-delay: 0.4s;">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex-1">
                                <p class="text-sm font-bold uppercase tracking-wider opacity-75 mb-3" style="color: var(--white-clean);">Monthly Burn</p>
                                <div id="burnRateLoader" class="loading-shimmer h-12 w-40 rounded-lg mb-4"></div>
                                <p id="burnRate" class="text-financial-large counter opacity-0" style="color: var(--white-clean);">$0</p>
                                <div class="flex items-center mt-3">
                                    <span class="text-xs font-bold px-3 py-1 rounded-full" style="background: rgba(255, 165, 0, 0.2); color: #FFA500;">üî• Rate</span>
                                </div>
                            </div>
                            <div class="w-20 h-20 glass-panel rounded-2xl flex items-center justify-center float-element" style="animation-delay: 1.5s;">
                                <span class="text-3xl">üî•</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-6 justify-center animate-slide-up" style="animation-delay: 0.5s;">
                    <button id="addIncomeBtn" class="btn-premium px-12 py-6 rounded-2xl text-xl font-bold shadow-2xl flex items-center justify-center space-x-4">
                        <span class="text-4xl">+</span>
                        <span>Add Income</span>
                        <div class="w-3 h-3 rounded-full animate-pulse" style="background: var(--navy-deep);"></div>
                    </button>
                    <button id="addExpenseBtn" class="btn-premium btn-expense px-12 py-6 rounded-2xl text-xl font-bold shadow-2xl flex items-center justify-center space-x-4">
                        <span class="text-4xl">-</span>
                        <span>Add Expense</span>
                        <div class="w-3 h-3 bg-white rounded-full animate-pulse"></div>
                    </button>
                </div>

                <!-- Recent Transactions -->
                <div class="glass-card rounded-3xl p-10 animate-slide-up" style="animation-delay: 0.6s;">
                    <div class="flex items-center justify-between mb-8">
                        <h3 class="text-financial-large" style="color: var(--white-clean);">Recent Transactions</h3>
                        <div class="flex items-center space-x-3">
                            <div class="w-3 h-3 rounded-full animate-pulse" style="background: var(--teal-electric);"></div>
                            <span class="text-sm font-medium" style="color: var(--teal-electric);">Live Updates</span>
                        </div>
                    </div>
                    <div id="recentTransactions" class="space-y-6">
                        <!-- Loading skeletons -->
                        <div class="loading-shimmer h-24 rounded-2xl"></div>
                        <div class="loading-shimmer h-24 rounded-2xl"></div>
                        <div class="loading-shimmer h-24 rounded-2xl"></div>
                    </div>
                </div>
            </div>

            <!-- Reports View -->
            <div id="reportsView" class="page-transition hidden space-y-12">
                <div class="text-center animate-slide-up">
                    <h2 class="text-financial-hero mb-6" style="color: var(--white-clean);">Advanced Analytics</h2>
                    <p class="text-xl opacity-90" style="color: var(--white-clean);">Interactive visualizations of your financial data</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                    <!-- Income vs Expense Chart -->
                    <div class="glass-card rounded-3xl p-10">
                        <div class="flex items-center justify-between mb-8">
                            <h3 class="text-financial-medium" style="color: var(--white-clean);">Income vs Expenses</h3>
                            <div class="w-4 h-4 rounded-full animate-pulse" style="background: var(--teal-electric);"></div>
                        </div>
                        <div class="chart-container">
                            <canvas id="incomeExpenseChart" width="400" height="300"></canvas>
                        </div>
                    </div>

                    <!-- Expense Breakdown Chart -->
                    <div class="glass-card rounded-3xl p-10">
                        <div class="flex items-center justify-between mb-8">
                            <h3 class="text-financial-medium" style="color: var(--white-clean);">Expense Breakdown</h3>
                            <div class="w-4 h-4 rounded-full animate-pulse" style="background: var(--magenta-sharp);"></div>
                        </div>
                        <div class="chart-container">
                            <canvas id="expenseBreakdownChart" width="400" height="300"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Monthly Trends -->
                <div class="glass-card rounded-3xl p-10">
                    <div class="flex items-center justify-between mb-8">
                        <h3 class="text-financial-medium" style="color: var(--white-clean);">Monthly Trends</h3>
                        <div class="w-4 h-4 rounded-full animate-pulse" style="background: var(--teal-electric);"></div>
                    </div>
                    <div class="chart-container">
                        <canvas id="trendsChart" width="800" height="400"></canvas>
                    </div>
                </div>
            </div>

            <!-- Privacy View -->
            <div id="privacyView" class="page-transition hidden space-y-12">
                <div class="text-center animate-slide-up">
                    <h2 class="text-financial-hero mb-6" style="color: var(--white-clean);">Privacy & Security</h2>
                    <p class="text-xl opacity-90" style="color: var(--white-clean);">Your data protection and privacy information</p>
                </div>

                <div class="max-w-5xl mx-auto space-y-10">
                    <!-- Privacy Statement -->
                    <div class="glass-card rounded-3xl p-12">
                        <div class="flex items-start space-x-8 mb-10">
                            <div class="w-20 h-20 glass-panel rounded-2xl flex items-center justify-center">
                                <span class="text-4xl">üíæ</span>
                            </div>
                            <div>
                                <h3 class="text-financial-large mb-6" style="color: var(--white-clean);">Complete Privacy Guarantee</h3>
                                <p class="text-lg leading-relaxed opacity-90" style="color: var(--white-clean);">
                                    Your financial data remains exclusively on your device using advanced local browser storage. 
                                    Zero accounts, zero servers, zero cloud storage. Your information never leaves your computer, 
                                    ensuring absolute privacy and complete control over your financial data.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Security Features Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="glass-card rounded-3xl p-10 card-hover">
                            <div class="w-16 h-16 glass-panel rounded-2xl flex items-center justify-center mb-8">
                                <span class="text-3xl">üíæ</span>
                            </div>
                            <h4 class="text-financial-medium mb-4" style="color: var(--white-clean);">Local Storage Only</h4>
                            <p class="opacity-90" style="color: var(--white-clean);">All data stored locally in your browser. Nothing transmitted to external servers.</p>
                        </div>

                        <div class="glass-card rounded-3xl p-10 card-hover">
                            <div class="w-16 h-16 glass-panel rounded-2xl flex items-center justify-center mb-8">
                                <span class="text-3xl">üîí</span>
                            </div>
                            <h4 class="text-financial-medium mb-4" style="color: var(--white-clean);">Total Control</h4>
                            <p class="opacity-90" style="color: var(--white-clean);">Your data stays on your device. Clear it anytime via browser settings.</p>
                        </div>

                        <div class="glass-card rounded-3xl p-10 card-hover">
                            <div class="w-16 h-16 glass-panel rounded-2xl flex items-center justify-center mb-8">
                                <span class="text-3xl">üåê</span>
                            </div>
                            <h4 class="text-financial-medium mb-4" style="color: var(--white-clean);">Offline Ready</h4>
                            <p class="opacity-90" style="color: var(--white-clean);">Full functionality offline once loaded. No internet dependency.</p>
                        </div>
                    </div>

                    <!-- Technical Details -->
                    <div class="glass-card rounded-3xl p-10" style="background: linear-gradient(135deg, var(--teal-electric) 0%, #00D4AA 100%);">
                        <h4 class="text-financial-medium mb-8" style="color: var(--navy-deep);">How It Works</h4>
                        <div class="space-y-6">
                            <div class="flex items-start space-x-4">
                                <span class="text-3xl">1Ô∏è‚É£</span>
                                <p class="text-lg font-medium" style="color: var(--navy-deep);">Instant access - no setup or registration required</p>
                            </div>
                            <div class="flex items-start space-x-4">
                                <span class="text-3xl">2Ô∏è‚É£</span>
                                <p class="text-lg font-medium" style="color: var(--navy-deep);">All transactions saved locally in secure browser storage</p>
                            </div>
                            <div class="flex items-start space-x-4">
                                <span class="text-3xl">3Ô∏è‚É£</span>
                                <p class="text-lg font-medium" style="color: var(--navy-deep);">Data persists between visits with full offline capability</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Privacy Footer -->
        <footer class="glass-panel border-t py-6" style="border-color: var(--glass-border);">
            <div class="max-w-7xl mx-auto px-6 lg:px-8">
                <div class="flex items-center justify-center space-x-3">
                    <span class="text-2xl">üíæ</span>
                    <span class="font-medium" style="color: var(--white-clean);">Your data is stored locally on your device. No account required.</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Transaction Modal -->
    <div id="transactionModal" class="fixed inset-0 bg-black bg-opacity-60 modal-backdrop hidden flex items-center justify-center z-50 p-6">
        <div id="modalContent" class="modal-content rounded-3xl p-12 max-w-lg w-full transform scale-90 opacity-0 transition-all duration-500 shadow-2xl">
            <div class="flex justify-between items-center mb-10">
                <h3 id="modalTitle" class="text-financial-large" style="color: var(--white-clean);">Add Transaction</h3>
                <button id="closeModal" class="text-4xl opacity-75 hover:opacity-100 transition-opacity" style="color: var(--white-clean);">√ó</button>
            </div>
            
            <form id="transactionForm" class="space-y-8">
                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider mb-4" style="color: var(--white-clean);">Amount</label>
                    <div class="relative">
                        <span class="absolute left-6 top-1/2 transform -translate-y-1/2 text-2xl font-bold" style="color: var(--teal-electric);">$</span>
                        <input type="number" id="amount" step="0.01" required 
                               class="w-full pl-16 pr-6 py-6 glass-panel rounded-2xl text-2xl font-bold transition-all focus:outline-none focus:ring-4"
                               style="color: var(--white-clean); border-color: var(--glass-border); --tw-ring-color: var(--teal-electric);">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider mb-4" style="color: var(--white-clean);">Category</label>
                    <select id="category" required 
                            class="w-full px-6 py-6 glass-panel rounded-2xl text-lg font-medium transition-all focus:outline-none focus:ring-4"
                            style="color: var(--white-clean); border-color: var(--glass-border); --tw-ring-color: var(--teal-electric);">
                        <option value="">Select Category</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider mb-4" style="color: var(--white-clean);">Date</label>
                    <input type="date" id="date" required 
                           class="w-full px-6 py-6 glass-panel rounded-2xl text-lg font-medium transition-all focus:outline-none focus:ring-4"
                           style="color: var(--white-clean); border-color: var(--glass-border); --tw-ring-color: var(--teal-electric);">
                </div>

                <div>
                    <label class="block text-sm font-bold uppercase tracking-wider mb-4" style="color: var(--white-clean);">Note (Optional)</label>
                    <textarea id="note" rows="4" 
                              class="w-full px-6 py-6 glass-panel rounded-2xl resize-none transition-all focus:outline-none focus:ring-4"
                              style="color: var(--white-clean); border-color: var(--glass-border); --tw-ring-color: var(--teal-electric);"
                              placeholder="Add a note about this transaction..."></textarea>
                </div>

                <button type="submit" id="submitBtn" 
                        class="w-full btn-premium py-6 rounded-2xl text-xl font-bold shadow-2xl flex items-center justify-center space-x-4">
                    <span id="submitBtnText">Add Transaction</span>
                    <div id="submitSpinner" class="w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin hidden"></div>
                </button>
            </form>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="successToast" class="fixed top-8 right-8 glass-card px-10 py-6 rounded-2xl shadow-2xl transform translate-x-full transition-transform duration-500 z-50">
        <div class="flex items-center space-x-4">
            <span class="text-3xl">‚úì</span>
            <span class="text-lg font-bold" style="color: var(--white-clean);">Transaction added successfully!</span>
        </div>
    </div>

    <!-- Error Toast -->
    <div id="errorToast" class="fixed top-8 right-8 glass-card px-10 py-6 rounded-2xl shadow-2xl transform translate-x-full transition-transform duration-500 z-50" style="border-color: var(--magenta-sharp);">
        <div class="flex items-center space-x-4">
            <span class="text-3xl">‚ö†Ô∏è</span>
            <span class="text-lg font-bold" id="errorMessage" style="color: var(--magenta-sharp);">An error occurred</span>
        </div>
    </div>

    <!-- Mobile Navigation -->
    <nav class="md:hidden fixed bottom-0 left-0 right-0 glass-panel border-t px-6 py-4 z-30 shadow-2xl" id="mobileNav" style="display: none; border-color: var(--glass-border);">
        <div class="flex justify-around">
            <button id="dashboardTabMobile" class="nav-btn-mobile flex flex-col items-center py-3" style="color: var(--teal-electric);">
                <span class="text-3xl mb-2">üìä</span>
                <span class="text-xs font-bold">Dashboard</span>
            </button>
            <button id="reportsTabMobile" class="nav-btn-mobile flex flex-col items-center py-3" style="color: var(--white-clean); opacity: 0.6;">
                <span class="text-3xl mb-2">üìà</span>
                <span class="text-xs font-bold">Reports</span>
            </button>
            <button id="privacyTabMobile" class="nav-btn-mobile flex flex-col items-center py-3" style="color: var(--white-clean); opacity: 0.6;">
                <span class="text-3xl mb-2">üîí</span>
                <span class="text-xs font-bold">Privacy</span>
            </button>
        </div>
    </nav>

    <script>
        // Global State
        let transactions = [];
        let currentTransactionType = 'income';
        let charts = {};
        let performanceMode = false;

        // Categories with icons
        const categories = {
            income: ['Salary', 'Freelance', 'Investment', 'Business', 'Rental', 'Bonus', 'Other'],
            expense: ['Food & Dining', 'Transportation', 'Utilities', 'Entertainment', 'Shopping', 'Healthcare', 'Education', 'Rent', 'Other']
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            setupEventListeners();
            setDefaultDate();
            showMainApp();
            loadSampleData();
            setupPerformanceMode();
        }

        function setupEventListeners() {
            // Navigation
            document.getElementById('dashboardTab').addEventListener('click', () => showView('dashboard'));
            document.getElementById('reportsTab').addEventListener('click', () => showView('reports'));
            document.getElementById('privacyTab').addEventListener('click', () => showView('privacy'));
            document.getElementById('dashboardTabMobile').addEventListener('click', () => showView('dashboard'));
            document.getElementById('reportsTabMobile').addEventListener('click', () => showView('reports'));
            document.getElementById('privacyTabMobile').addEventListener('click', () => showView('privacy'));

            // Performance toggle
            document.getElementById('performanceToggle').addEventListener('click', togglePerformanceMode);

            // Transaction buttons
            document.getElementById('addIncomeBtn').addEventListener('click', () => openTransactionModal('income'));
            document.getElementById('addExpenseBtn').addEventListener('click', () => openTransactionModal('expense'));

            // Modal
            document.getElementById('closeModal').addEventListener('click', closeTransactionModal);
            document.getElementById('transactionModal').addEventListener('click', (e) => {
                if (e.target.id === 'transactionModal') closeTransactionModal();
            });

            // Form
            document.getElementById('transactionForm').addEventListener('submit', handleTransactionSubmit);
        }

        // Performance Mode
        function setupPerformanceMode() {
            const saved = localStorage.getItem('specturn_performance_mode');
            if (saved === 'true') {
                performanceMode = true;
                document.body.classList.add('performance-mode');
            }
        }

        function togglePerformanceMode() {
            performanceMode = !performanceMode;
            localStorage.setItem('specturn_performance_mode', performanceMode.toString());
            
            if (performanceMode) {
                document.body.classList.add('performance-mode');
                showSuccessToast('Performance mode enabled');
            } else {
                document.body.classList.remove('performance-mode');
                showSuccessToast('Performance mode disabled');
            }
        }

        // Screen Management with Premium Animations
        async function showMainApp() {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                document.getElementById('loadingScreen').style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    document.getElementById('loadingScreen').classList.add('hidden');
                    document.getElementById('mainApp').classList.remove('hidden');
                    document.getElementById('mobileNav').style.display = 'block';
                    showView('dashboard');
                }, 500);
            }, 2500);
        }

        // Local Storage Functions
        function loadSampleData() {
            const savedTransactions = localStorage.getItem('specturn_transactions');
            if (savedTransactions) {
                transactions = JSON.parse(savedTransactions);
            } else {
                // Premium sample data
                transactions = [
                    {
                        id: '1',
                        type: 'income',
                        amount: 7500,
                        category: 'Salary',
                        date: new Date().toISOString().split('T')[0],
                        note: 'Monthly salary payment',
                        createdAt: new Date()
                    },
                    {
                        id: '2',
                        type: 'income',
                        amount: 2500,
                        category: 'Freelance',
                        date: new Date(Date.now() - 86400000).toISOString().split('T')[0],
                        note: 'Web development project',
                        createdAt: new Date()
                    },
                    {
                        id: '3',
                        type: 'expense',
                        amount: 1800,
                        category: 'Rent',
                        date: new Date().toISOString().split('T')[0],
                        note: 'Monthly apartment rent',
                        createdAt: new Date()
                    },
                    {
                        id: '4',
                        type: 'expense',
                        amount: 450,
                        category: 'Food & Dining',
                        date: new Date(Date.now() - 172800000).toISOString().split('T')[0],
                        note: 'Groceries and restaurants',
                        createdAt: new Date()
                    },
                    {
                        id: '5',
                        type: 'expense',
                        amount: 120,
                        category: 'Utilities',
                        date: new Date(Date.now() - 259200000).toISOString().split('T')[0],
                        note: 'Electricity and internet',
                        createdAt: new Date()
                    }
                ];
                saveTransactions();
            }
            
            // Delayed update for premium animation effect
            setTimeout(() => {
                calculateMetrics();
                loadRecentTransactions();
            }, 1500);
        }

        function saveTransactions() {
            localStorage.setItem('specturn_transactions', JSON.stringify(transactions));
        }

        function addTransaction(transaction) {
            const newTransaction = {
                ...transaction,
                id: Date.now().toString(),
                createdAt: new Date()
            };
            
            transactions.unshift(newTransaction);
            saveTransactions();
            
            // Update dashboard with animations
            calculateMetrics();
            loadRecentTransactions();
            
            return true;
        }

        // View Management with Smooth Transitions
        function showView(view) {
            // Hide all views with fade out
            const views = ['dashboardView', 'reportsView', 'privacyView'];
            views.forEach(v => {
                const element = document.getElementById(v);
                element.classList.remove('active');
                element.classList.add('hidden');
            });

            // Show selected view with fade in
            setTimeout(() => {
                const targetView = document.getElementById(view + 'View');
                targetView.classList.remove('hidden');
                setTimeout(() => {
                    targetView.classList.add('active');
                }, 50);
            }, 200);

            updateNavigation(view);
            
            if (view === 'reports') {
                setTimeout(loadCharts, 600);
            }
        }

        function updateNavigation(activeView) {
            const tabs = ['dashboard', 'reports', 'privacy'];
            tabs.forEach(tab => {
                const element = document.getElementById(tab + 'Tab');
                const mobileElement = document.getElementById(tab + 'TabMobile');
                
                if (tab === activeView) {
                    element.className = 'nav-item text-financial-medium py-6 active';
                    element.style.color = 'var(--teal-electric)';
                    mobileElement.className = 'nav-btn-mobile flex flex-col items-center py-3';
                    mobileElement.style.color = 'var(--teal-electric)';
                    mobileElement.style.opacity = '1';
                } else {
                    element.className = 'nav-item text-financial-medium py-6';
                    element.style.color = 'var(--white-clean)';
                    mobileElement.className = 'nav-btn-mobile flex flex-col items-center py-3';
                    mobileElement.style.color = 'var(--white-clean)';
                    mobileElement.style.opacity = '0.6';
                }
            });
        }

        // Premium Dashboard Functions
        function calculateMetrics() {
            const totalIncome = transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);

            const totalExpenses = transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);

            const netProfit = totalIncome - totalExpenses;

            // Calculate monthly burn rate
            const monthlyExpenses = getMonthlyExpenses();
            const burnRate = monthlyExpenses.length > 0 
                ? monthlyExpenses.reduce((sum, month) => sum + month.total, 0) / monthlyExpenses.length 
                : 0;

            // Premium animated counters
            animatePremiumCounter('totalIncome', totalIncome, 'var(--white-clean)');
            animatePremiumCounter('totalExpenses', totalExpenses, 'var(--magenta-sharp)');
            animatePremiumCounter('netProfit', netProfit, netProfit >= 0 ? 'var(--white-clean)' : 'var(--magenta-sharp)');
            animatePremiumCounter('burnRate', burnRate, 'var(--white-clean)');

            // Update profit indicator
            updateProfitIndicator(netProfit);
        }

        function updateProfitIndicator(netProfit) {
            const indicator = document.getElementById('profitIndicator');
            if (netProfit > 0) {
                indicator.style.background = 'rgba(0, 245, 212, 0.2)';
                indicator.style.color = 'var(--teal-electric)';
                indicator.textContent = '‚Üó Profit';
            } else if (netProfit < 0) {
                indicator.style.background = 'rgba(255, 46, 99, 0.2)';
                indicator.style.color = 'var(--magenta-sharp)';
                indicator.textContent = '‚Üò Loss';
            } else {
                indicator.style.background = 'rgba(255, 255, 255, 0.2)';
                indicator.style.color = 'var(--white-clean)';
                indicator.textContent = '‚Üí Break Even';
            }
        }

        function animatePremiumCounter(elementId, targetValue, color) {
            const element = document.getElementById(elementId);
            const loader = document.getElementById(elementId + 'Loader');
            
            // Hide loader and show element
            if (loader) loader.style.display = 'none';
            element.style.opacity = '1';
            element.style.color = color;
            element.classList.add('counting');

            // Premium counter animation
            let currentValue = 0;
            const duration = 2000; // 2 seconds
            const steps = 60;
            const increment = targetValue / steps;
            const stepDuration = duration / steps;

            const timer = setInterval(() => {
                currentValue += increment;
                if (currentValue >= targetValue) {
                    currentValue = targetValue;
                    clearInterval(timer);
                    element.classList.remove('counting');
                }
                element.textContent = formatCurrency(currentValue);
            }, stepDuration);
        }

        function loadRecentTransactions() {
            const container = document.getElementById('recentTransactions');
            const recentTransactions = transactions.slice(0, 5);

            if (recentTransactions.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-20 animate-slide-up">
                        <div class="w-40 h-40 glass-card rounded-full flex items-center justify-center mx-auto mb-8 animate-glow">
                            <span class="text-7xl">üìä</span>
                        </div>
                        <h3 class="text-financial-large mb-6" style="color: var(--white-clean);">Ready to Begin?</h3>
                        <p class="text-xl opacity-90 mb-12" style="color: var(--white-clean);">Add your first transaction to unlock financial insights</p>
                        <div class="flex flex-col sm:flex-row gap-6 justify-center">
                            <button onclick="openTransactionModal('income')" class="btn-premium px-10 py-5 rounded-2xl text-lg font-bold">
                                + Add Income
                            </button>
                            <button onclick="openTransactionModal('expense')" class="btn-premium btn-expense px-10 py-5 rounded-2xl text-lg font-bold">
                                - Add Expense
                            </button>
                        </div>
                    </div>
                `;
                return;
            }

            container.innerHTML = recentTransactions.map((transaction, index) => `
                <div class="glass-panel rounded-2xl p-8 card-hover animate-slide-left" style="animation-delay: ${index * 0.1}s;">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-6">
                            <div class="w-6 h-6 rounded-full shadow-lg" style="background: ${transaction.type === 'income' ? 'var(--teal-electric)' : 'var(--magenta-sharp)'};"></div>
                            <div>
                                <p class="text-financial-medium mb-2" style="color: var(--white-clean);">${transaction.category}</p>
                                <p class="text-sm font-medium opacity-75" style="color: var(--white-clean);">${formatDate(transaction.date)}</p>
                                ${transaction.note ? `<p class="text-sm opacity-60 mt-2" style="color: var(--white-clean);">${transaction.note}</p>` : ''}
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="text-financial-large font-bold" style="color: ${transaction.type === 'income' ? 'var(--white-clean)' : 'var(--magenta-sharp)'};">
                                ${transaction.type === 'income' ? '+' : '-'}${formatCurrency(transaction.amount)}
                            </p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Premium Transaction Modal
        function setDefaultDate() {
            document.getElementById('date').valueAsDate = new Date();
        }

        function openTransactionModal(type) {
            currentTransactionType = type;
            const modal = document.getElementById('transactionModal');
            const modalContent = document.getElementById('modalContent');
            const modalTitle = document.getElementById('modalTitle');
            const submitBtn = document.getElementById('submitBtn');
            const categorySelect = document.getElementById('category');

            // Prevent background scrolling
            document.body.classList.add('modal-open');

            // Set modal title and button style
            if (type === 'income') {
                modalTitle.textContent = 'Add Income';
                submitBtn.className = 'w-full btn-premium py-6 rounded-2xl text-xl font-bold shadow-2xl flex items-center justify-center space-x-4';
            } else {
                modalTitle.textContent = 'Add Expense';
                submitBtn.className = 'w-full btn-premium btn-expense py-6 rounded-2xl text-xl font-bold shadow-2xl flex items-center justify-center space-x-4';
            }

            // Populate categories
            categorySelect.innerHTML = '<option value="">Select Category</option>' +
                categories[type].map(cat => `<option value="${cat}">${cat}</option>`).join('');

            // Premium modal animation
            modal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.style.transform = 'scale(1)';
                modalContent.style.opacity = '1';
            }, 50);
        }

        function closeTransactionModal() {
            const modal = document.getElementById('transactionModal');
            const modalContent = document.getElementById('modalContent');
            
            // Restore background scrolling
            document.body.classList.remove('modal-open');
            
            modalContent.style.transform = 'scale(0.9)';
            modalContent.style.opacity = '0';
            
            setTimeout(() => {
                modal.classList.add('hidden');
                document.getElementById('transactionForm').reset();
                setDefaultDate();
            }, 500);
        }

        function handleTransactionSubmit(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const submitBtnText = document.getElementById('submitBtnText');
            const submitSpinner = document.getElementById('submitSpinner');
            
            // Premium loading state
            submitBtn.disabled = true;
            submitBtn.classList.add('success-glow');
            submitBtnText.textContent = 'Processing...';
            submitSpinner.classList.remove('hidden');
            
            const transaction = {
                type: currentTransactionType,
                amount: parseFloat(document.getElementById('amount').value),
                category: document.getElementById('category').value,
                date: document.getElementById('date').value,
                note: document.getElementById('note').value
            };

            // Premium processing delay
            setTimeout(() => {
                const success = addTransaction(transaction);
                
                // Reset loading state
                submitBtn.disabled = false;
                submitBtn.classList.remove('success-glow');
                submitBtnText.textContent = 'Add Transaction';
                submitSpinner.classList.add('hidden');
                
                if (success) {
                    closeTransactionModal();
                    showSuccessToast('Transaction added successfully!');
                } else {
                    // Restore background scrolling on error too
                    document.body.classList.remove('modal-open');
                    showErrorToast('Failed to add transaction');
                }
            }, 1200);
        }

        // Utility Functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(Math.abs(amount));
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('en-US', {
                month: 'short',
                day: 'numeric',
                year: 'numeric'
            });
        }

        function showSuccessToast(message = 'Success!') {
            const toast = document.getElementById('successToast');
            const messageElement = toast.querySelector('span:last-child');
            messageElement.textContent = message;
            toast.classList.remove('translate-x-full');
            toast.classList.add('success-glow');
            
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                toast.classList.remove('success-glow');
            }, 4000);
        }

        function showErrorToast(message) {
            const toast = document.getElementById('errorToast');
            const messageElement = document.getElementById('errorMessage');
            messageElement.textContent = message;
            toast.classList.remove('translate-x-full');
            toast.classList.add('error-glow');
            
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                toast.classList.remove('error-glow');
            }, 4000);
        }

        // Premium Chart Functions
        function getMonthlyExpenses() {
            const monthlyData = {};
            
            transactions
                .filter(t => t.type === 'expense')
                .forEach(transaction => {
                    const date = new Date(transaction.date);
                    const monthKey = `${date.getFullYear()}-${date.getMonth()}`;
                    
                    if (!monthlyData[monthKey]) {
                        monthlyData[monthKey] = {
                            month: date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' }),
                            total: 0
                        };
                    }
                    
                    monthlyData[monthKey].total += transaction.amount;
                });

            return Object.values(monthlyData);
        }

        function loadCharts() {
            const chartContainers = document.querySelectorAll('.chart-container');
            chartContainers.forEach((container, index) => {
                setTimeout(() => {
                    container.classList.add('loaded');
                }, index * 200);
            });

            setTimeout(() => {
                loadPremiumIncomeExpenseChart();
                loadPremiumExpenseBreakdownChart();
                loadPremiumTrendsChart();
            }, 800);
        }

        function loadPremiumIncomeExpenseChart() {
            const ctx = document.getElementById('incomeExpenseChart').getContext('2d');
            
            if (charts.incomeExpense) {
                charts.incomeExpense.destroy();
            }

            const monthlyData = getMonthlyData();

            charts.incomeExpense = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: monthlyData.map(d => d.month),
                    datasets: [{
                        label: 'Income',
                        data: monthlyData.map(d => d.income),
                        borderColor: '#00F5D4',
                        backgroundColor: 'rgba(0, 245, 212, 0.1)',
                        borderWidth: 4,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#00F5D4',
                        pointBorderColor: '#FFFFFF',
                        pointBorderWidth: 3,
                        pointRadius: 8,
                        pointHoverRadius: 12
                    }, {
                        label: 'Expenses',
                        data: monthlyData.map(d => d.expenses),
                        borderColor: '#FF2E63',
                        backgroundColor: 'rgba(255, 46, 99, 0.1)',
                        borderWidth: 4,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#FF2E63',
                        pointBorderColor: '#FFFFFF',
                        pointBorderWidth: 3,
                        pointRadius: 8,
                        pointHoverRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 25,
                                color: '#FFFFFF',
                                font: {
                                    family: 'Inter',
                                    size: 16,
                                    weight: '600'
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                },
                                color: '#FFFFFF',
                                font: {
                                    family: 'Inter',
                                    weight: '500'
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#FFFFFF',
                                font: {
                                    family: 'Inter',
                                    weight: '500'
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 3000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        function loadPremiumExpenseBreakdownChart() {
            const ctx = document.getElementById('expenseBreakdownChart').getContext('2d');
            
            if (charts.expenseBreakdown) {
                charts.expenseBreakdown.destroy();
            }

            const expenseData = getExpenseByCategory();

            if (expenseData.labels.length === 0) {
                ctx.font = '18px Inter';
                ctx.fillStyle = '#FFFFFF';
                ctx.textAlign = 'center';
                ctx.fillText('No expense data available', ctx.canvas.width / 2, ctx.canvas.height / 2);
                return;
            }

            charts.expenseBreakdown = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: expenseData.labels,
                    datasets: [{
                        data: expenseData.data,
                        backgroundColor: [
                            '#00F5D4',
                            '#FF2E63',
                            '#00D4AA',
                            '#FF6B9D',
                            '#4ECDC4',
                            '#45B7D1',
                            '#96CEB4',
                            '#FFEAA7'
                        ],
                        borderWidth: 0,
                        hoverBorderWidth: 8,
                        hoverBorderColor: '#FFFFFF'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 25,
                                usePointStyle: true,
                                color: '#FFFFFF',
                                font: {
                                    family: 'Inter',
                                    size: 14,
                                    weight: '600'
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((value / total) * 100).toFixed(1);
                                    return `${label}: $${value.toLocaleString()} (${percentage}%)`;
                                }
                            },
                            titleFont: {
                                family: 'Inter',
                                weight: '600'
                            },
                            bodyFont: {
                                family: 'Inter'
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        duration: 3500,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        function loadPremiumTrendsChart() {
            const ctx = document.getElementById('trendsChart').getContext('2d');
            
            if (charts.trends) {
                charts.trends.destroy();
            }

            const monthlyData = getMonthlyData();

            charts.trends = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: monthlyData.map(d => d.month),
                    datasets: [{
                        label: 'Net Profit',
                        data: monthlyData.map(d => d.income - d.expenses),
                        borderColor: '#00F5D4',
                        backgroundColor: 'rgba(0, 245, 212, 0.2)',
                        borderWidth: 5,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#00F5D4',
                        pointBorderColor: '#FFFFFF',
                        pointBorderWidth: 4,
                        pointRadius: 10,
                        pointHoverRadius: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                },
                                color: '#FFFFFF',
                                font: {
                                    family: 'Inter',
                                    weight: '500'
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#FFFFFF',
                                font: {
                                    family: 'Inter',
                                    weight: '500'
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 3000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        function getMonthlyData() {
            const monthlyData = {};
            const now = new Date();
            
            // Initialize last 6 months
            for (let i = 5; i >= 0; i--) {
                const date = new Date(now.getFullYear(), now.getMonth() - i, 1);
                const monthKey = `${date.getFullYear()}-${date.getMonth()}`;
                monthlyData[monthKey] = {
                    month: date.toLocaleDateString('en-US', { month: 'short' }),
                    income: 0,
                    expenses: 0
                };
            }
            
            // Populate with transaction data
            transactions.forEach(transaction => {
                const date = new Date(transaction.date);
                const monthKey = `${date.getFullYear()}-${date.getMonth()}`;
                
                if (monthlyData[monthKey]) {
                    if (transaction.type === 'income') {
                        monthlyData[monthKey].income += transaction.amount;
                    } else {
                        monthlyData[monthKey].expenses += transaction.amount;
                    }
                }
            });

            return Object.values(monthlyData);
        }

        function getExpenseByCategory() {
            const categoryData = {};
            
            transactions
                .filter(t => t.type === 'expense')
                .forEach(transaction => {
                    if (!categoryData[transaction.category]) {
                        categoryData[transaction.category] = 0;
                    }
                    categoryData[transaction.category] += transaction.amount;
                });

            return {
                labels: Object.keys(categoryData),
                data: Object.values(categoryData)
            };
        }

        // Make functions globally available
        window.openTransactionModal = openTransactionModal;
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96f2ddd0d0584206',t:'MTc1NTE5OTgyMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
